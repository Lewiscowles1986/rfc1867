<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="875px" preserveAspectRatio="none" style="width:1639px;height:875px;" version="1.1" viewBox="0 0 1639 875" width="1639px" zoomAndPan="magnify"><defs><filter height="300%" id="fuz87dgqmn0qv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class StreamInterface--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="59.207" id="StreamInterface" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="1185" y="805"/><ellipse cx="1200" cy="821" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1200.9531,817.7813 L1200.9531,824.2969 L1202.6719,824.2969 C1203.125,824.2969 1203.2656,824.3281 1203.4375,824.4531 C1203.6719,824.625 1203.7813,824.875 1203.7813,825.1563 C1203.7813,825.7188 1203.4219,826 1202.6719,826 L1197.5313,826 C1197.125,826 1196.9219,825.9531 1196.7656,825.8281 C1196.5469,825.6719 1196.4063,825.4063 1196.4063,825.1563 C1196.4063,824.8594 1196.5625,824.5781 1196.8125,824.4219 C1196.9688,824.3125 1197.0938,824.2969 1197.5313,824.2969 L1199.25,824.2969 L1199.25,817.7813 L1197.5313,817.7813 C1197.1094,817.7813 1196.9219,817.75 1196.7656,817.6406 C1196.5469,817.4688 1196.4063,817.2188 1196.4063,816.9375 C1196.4063,816.6563 1196.5625,816.3594 1196.8125,816.2031 C1196.9688,816.1094 1197.0938,816.0938 1197.5313,816.0938 L1202.6719,816.0938 C1203.125,816.0938 1203.2656,816.125 1203.4375,816.2344 C1203.6719,816.4063 1203.7813,816.6719 1203.7813,816.9375 C1203.7813,817.2344 1203.6406,817.5156 1203.375,817.6719 C1203.25,817.75 1203.0625,817.7813 1202.6719,817.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="102" x="1214" y="825.1543">StreamInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1186" x2="1318" y1="837" y2="837"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1186" x2="1235.5" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1186" x2="1235.5" y1="853.4023" y2="853.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="1235.5" y="854.7104">PSR-7</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1268.5" x2="1318" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1268.5" x2="1318" y1="853.4023" y2="853.4023"/><!--class RequestInterface--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="59.207" id="RequestInterface" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="1354" y="805"/><ellipse cx="1369" cy="821" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1369.9531,817.7813 L1369.9531,824.2969 L1371.6719,824.2969 C1372.125,824.2969 1372.2656,824.3281 1372.4375,824.4531 C1372.6719,824.625 1372.7813,824.875 1372.7813,825.1563 C1372.7813,825.7188 1372.4219,826 1371.6719,826 L1366.5313,826 C1366.125,826 1365.9219,825.9531 1365.7656,825.8281 C1365.5469,825.6719 1365.4063,825.4063 1365.4063,825.1563 C1365.4063,824.8594 1365.5625,824.5781 1365.8125,824.4219 C1365.9688,824.3125 1366.0938,824.2969 1366.5313,824.2969 L1368.25,824.2969 L1368.25,817.7813 L1366.5313,817.7813 C1366.1094,817.7813 1365.9219,817.75 1365.7656,817.6406 C1365.5469,817.4688 1365.4063,817.2188 1365.4063,816.9375 C1365.4063,816.6563 1365.5625,816.3594 1365.8125,816.2031 C1365.9688,816.1094 1366.0938,816.0938 1366.5313,816.0938 L1371.6719,816.0938 C1372.125,816.0938 1372.2656,816.125 1372.4375,816.2344 C1372.6719,816.4063 1372.7813,816.6719 1372.7813,816.9375 C1372.7813,817.2344 1372.6406,817.5156 1372.375,817.6719 C1372.25,817.75 1372.0625,817.7813 1371.6719,817.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="1383" y="825.1543">RequestInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1355" x2="1493" y1="837" y2="837"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1355" x2="1407.5" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1355" x2="1407.5" y1="853.4023" y2="853.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="1407.5" y="854.7104">PSR-7</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1440.5" x2="1493" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1440.5" x2="1493" y1="853.4023" y2="853.4023"/><!--class stream_for--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="59.207" id="stream_for" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="1529.5" y="805"/><ellipse cx="1544.5" cy="821" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1546.8438,816.6719 L1547.0156,816.75 C1547.2344,816.4375 1547.4375,816.3438 1547.7344,816.3438 C1548.0313,816.3438 1548.3125,816.4844 1548.4688,816.75 C1548.5625,816.9063 1548.5781,817.0313 1548.5781,817.4688 L1548.5781,818.8906 C1548.5781,819.3125 1548.5469,819.5 1548.4375,819.6563 C1548.2656,819.875 1548,820.0156 1547.7344,820.0156 C1547.5156,820.0156 1547.2813,819.9063 1547.1406,819.7656 C1547,819.6406 1546.9688,819.5156 1546.9063,819.1094 C1546.8125,818.7031 1546.6406,818.4844 1546.1563,818.2031 C1545.6875,817.9531 1545.0781,817.7969 1544.5,817.7969 C1542.7656,817.7969 1541.5156,819.1094 1541.5156,820.8906 L1541.5156,821.9844 C1541.5156,823.6875 1542.8125,824.7813 1544.8594,824.7813 C1545.625,824.7813 1546.3125,824.6563 1546.7344,824.3906 C1546.9219,824.2969 1546.9219,824.2969 1547.375,823.8125 C1547.5625,823.625 1547.7656,823.5469 1547.9844,823.5469 C1548.4531,823.5469 1548.8438,823.9375 1548.8438,824.3906 C1548.8438,824.7813 1548.5156,825.2344 1547.9375,825.6406 C1547.1875,826.1875 1546.0313,826.4844 1544.8125,826.4844 C1541.9219,826.4844 1539.8125,824.5938 1539.8125,822.0156 L1539.8125,820.8906 C1539.8125,818.1719 1541.8125,816.0938 1544.4375,816.0938 C1545.3125,816.0938 1545.9063,816.2344 1546.8438,816.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="1558.5" y="825.1543">stream_for</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1530.5" x2="1627.5" y1="837" y2="837"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1530.5" x2="1561" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1530.5" x2="1561" y1="853.4023" y2="853.4023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="1561" y="854.7104">Guzzle</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1597" x2="1627.5" y1="851.4023" y2="851.4023"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1597" x2="1627.5" y1="853.4023" y2="853.4023"/><!--class AbstractNode--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="150.4375" id="AbstractNode" style="stroke: #A80036; stroke-width: 1.5;" width="265" x="631.5" y="260"/><ellipse cx="717.25" cy="276" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718.8281,277.8125 L714.7813,277.8125 L714.3906,278.7969 L714.7813,278.7969 C715.2344,278.7969 715.375,278.8281 715.5469,278.9531 C715.7656,279.125 715.8906,279.375 715.8906,279.6563 C715.8906,279.9375 715.75,280.2344 715.4844,280.375 C715.3594,280.4688 715.1406,280.5 714.7813,280.5 L712.5156,280.5 C711.7656,280.5 711.3906,280.2188 711.3906,279.6563 C711.3906,279.3594 711.5469,279.0781 711.7969,278.9219 C711.9531,278.8125 712.1094,278.7969 712.5313,278.7969 L715.1719,272.2813 L714.0938,272.2813 C713.6563,272.2813 713.4844,272.25 713.3125,272.1406 C713.0938,271.9688 712.9531,271.7188 712.9531,271.4375 C712.9531,271.1563 713.1094,270.875 713.3594,270.7031 C713.5156,270.6094 713.6406,270.5938 714.0938,270.5938 L717.7656,270.5938 L721.1563,278.7969 C721.625,278.7969 721.7813,278.8281 721.9531,278.9688 C722.1719,279.125 722.3125,279.375 722.3125,279.6563 C722.3125,279.9375 722.1563,280.2344 721.9063,280.375 C721.7656,280.4688 721.5469,280.5 721.1875,280.5 L718.8281,280.5 C718.4063,280.5 718.2031,280.4531 718.0625,280.3281 C717.8438,280.1719 717.7031,279.9219 717.7031,279.6563 C717.7031,279.3594 717.8594,279.0781 718.1094,278.9219 C718.2656,278.8125 718.375,278.7969 718.8281,278.7969 L719.2188,278.7969 Z M718.125,276.1094 L716.7969,272.8438 L715.4531,276.1094 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="85" x="737.75" y="280.1543">AbstractNode</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="632.5" x2="895.5" y1="292" y2="292"/><polygon fill="none" points="642.5,298.9023,646.5,302.9023,642.5,306.9023,638.5,302.9023" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="651.5" y="306.2104">$name;</text><polygon fill="none" points="642.5,311.707,646.5,315.707,642.5,319.707,638.5,315.707" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="651.5" y="319.0151">$contentDisposition = '';</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="632.5" x2="895.5" y1="325.6094" y2="325.6094"/><ellipse cx="642.5" cy="337.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="651.5" y="339.8198">__toString()</text><ellipse cx="642.5" cy="350.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="651.5" y="352.6245">add(NodeInterface $node)</text><ellipse cx="642.5" cy="363.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="651.5" y="365.4292">getName()</text><ellipse cx="642.5" cy="375.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="651.5" y="378.2339">setContentDisposition(string $disposition)</text><ellipse cx="642.5" cy="388.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="651.5" y="391.0386">getNested()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="639.5" y="398.5352"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="651.5" y="403.8433">getContentDisposition()</text><!--class Attachment--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="252.875" id="Attachment" style="stroke: #A80036; stroke-width: 1.5;" width="640" x="38" y="487"/><ellipse cx="317.25" cy="503" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M319.5938,498.6719 L319.7656,498.75 C319.9844,498.4375 320.1875,498.3438 320.4844,498.3438 C320.7813,498.3438 321.0625,498.4844 321.2188,498.75 C321.3125,498.9063 321.3281,499.0313 321.3281,499.4688 L321.3281,500.8906 C321.3281,501.3125 321.2969,501.5 321.1875,501.6563 C321.0156,501.875 320.75,502.0156 320.4844,502.0156 C320.2656,502.0156 320.0313,501.9063 319.8906,501.7656 C319.75,501.6406 319.7188,501.5156 319.6563,501.1094 C319.5625,500.7031 319.3906,500.4844 318.9063,500.2031 C318.4375,499.9531 317.8281,499.7969 317.25,499.7969 C315.5156,499.7969 314.2656,501.1094 314.2656,502.8906 L314.2656,503.9844 C314.2656,505.6875 315.5625,506.7813 317.6094,506.7813 C318.375,506.7813 319.0625,506.6563 319.4844,506.3906 C319.6719,506.2969 319.6719,506.2969 320.125,505.8125 C320.3125,505.625 320.5156,505.5469 320.7344,505.5469 C321.2031,505.5469 321.5938,505.9375 321.5938,506.3906 C321.5938,506.7813 321.2656,507.2344 320.6875,507.6406 C319.9375,508.1875 318.7813,508.4844 317.5625,508.4844 C314.6719,508.4844 312.5625,506.5938 312.5625,504.0156 L312.5625,502.8906 C312.5625,500.1719 314.5625,498.0938 317.1875,498.0938 C318.0625,498.0938 318.6563,498.2344 319.5938,498.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="337.75" y="507.1543">Attachment</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="677" y1="519" y2="519"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="527.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="58" y="533.2104">$filename = '';</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="540.707"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="58" y="546.0151">$stream;</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="553.5117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="58" y="558.8198">$mime = '';</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="566.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="58" y="571.6245">$disposition;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="62" y="584.4292"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="287" x="58" y="597.2339">const DEFAULT_MIME = "application/octet-stream";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="373" x="58" y="610.0386">const BINARY_ENCODING = "content-transfer-encoding: binary\n";</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="39" x2="677" y1="616.6328" y2="616.6328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="614" x="58" y="630.8433">__construct(string $filename, string $name, StreamInterface $data, string $mime='', string $disposition='')</text><ellipse cx="49" cy="641.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="58" y="643.6479">__toString()</text><ellipse cx="49" cy="654.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="58" y="656.4526">getNested()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="663.9492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="58" y="669.2573">headerName()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="676.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="56" x="58" y="682.062">getMime()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="689.5586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="58" y="694.8667">isBinaryByMime(string $mimeType)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="702.3633"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="58" y="707.6714">contentEncoding()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="715.168"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="77" x="58" y="720.4761">getContents()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="46" y="727.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="58" y="733.2808">ifBlank($value, $default)</text><!--class FormInput--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="99.2188" id="FormInput" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="713.5" y="564"/><ellipse cx="769.25" cy="580" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M771.5938,575.6719 L771.7656,575.75 C771.9844,575.4375 772.1875,575.3438 772.4844,575.3438 C772.7813,575.3438 773.0625,575.4844 773.2188,575.75 C773.3125,575.9063 773.3281,576.0313 773.3281,576.4688 L773.3281,577.8906 C773.3281,578.3125 773.2969,578.5 773.1875,578.6563 C773.0156,578.875 772.75,579.0156 772.4844,579.0156 C772.2656,579.0156 772.0313,578.9063 771.8906,578.7656 C771.75,578.6406 771.7188,578.5156 771.6563,578.1094 C771.5625,577.7031 771.3906,577.4844 770.9063,577.2031 C770.4375,576.9531 769.8281,576.7969 769.25,576.7969 C767.5156,576.7969 766.2656,578.1094 766.2656,579.8906 L766.2656,580.9844 C766.2656,582.6875 767.5625,583.7813 769.6094,583.7813 C770.375,583.7813 771.0625,583.6563 771.4844,583.3906 C771.6719,583.2969 771.6719,583.2969 772.125,582.8125 C772.3125,582.625 772.5156,582.5469 772.7344,582.5469 C773.2031,582.5469 773.5938,582.9375 773.5938,583.3906 C773.5938,583.7813 773.2656,584.2344 772.6875,584.6406 C771.9375,585.1875 770.7813,585.4844 769.5625,585.4844 C766.6719,585.4844 764.5625,583.5938 764.5625,581.0156 L764.5625,579.8906 C764.5625,577.1719 766.5625,575.0938 769.1875,575.0938 C770.0625,575.0938 770.6563,575.2344 771.5938,575.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="789.75" y="584.1543">FormInput</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="714.5" x2="895.5" y1="596" y2="596"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="721.5" y="604.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="37" x="733.5" y="610.2104">$value</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="714.5" x2="895.5" y1="616.8047" y2="616.8047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="733.5" y="631.0151">__construct($name, $value)</text><ellipse cx="724.5" cy="641.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="733.5" y="643.8198">__toString()</text><ellipse cx="724.5" cy="654.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="733.5" y="656.6245">getNested()</text><!--class NodeInterface--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="188.8516" id="NodeInterface" style="stroke: #A80036; stroke-width: 1.5;" width="309" x="798.5" y="8"/><ellipse cx="903.75" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M904.7031,20.7813 L904.7031,27.2969 L906.4219,27.2969 C906.875,27.2969 907.0156,27.3281 907.1875,27.4531 C907.4219,27.625 907.5313,27.875 907.5313,28.1563 C907.5313,28.7188 907.1719,29 906.4219,29 L901.2813,29 C900.875,29 900.6719,28.9531 900.5156,28.8281 C900.2969,28.6719 900.1563,28.4063 900.1563,28.1563 C900.1563,27.8594 900.3125,27.5781 900.5625,27.4219 C900.7188,27.3125 900.8438,27.2969 901.2813,27.2969 L903,27.2969 L903,20.7813 L901.2813,20.7813 C900.8594,20.7813 900.6719,20.75 900.5156,20.6406 C900.2969,20.4688 900.1563,20.2188 900.1563,19.9375 C900.1563,19.6563 900.3125,19.3594 900.5625,19.2031 C900.7188,19.1094 900.8438,19.0938 901.2813,19.0938 L906.4219,19.0938 C906.875,19.0938 907.0156,19.125 907.1875,19.2344 C907.4219,19.4063 907.5313,19.6719 907.5313,19.9375 C907.5313,20.2344 907.3906,20.5156 907.125,20.6719 C907,20.75 906.8125,20.7813 906.4219,20.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="90" x="924.25" y="28.1543">NodeInterface</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="799.5" x2="1106.5" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="261" x="804.5" y="54.2104">const DISPOSITION_FORMDATA = "form-data";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="804.5" y="67.0151">const DISPOSITION_ATTACHMENT = "attachment";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="297" x="804.5" y="79.8198">const HEADER_DISPOSITION = "content-disposition";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="274" x="804.5" y="92.6245">const HEADER_CONTENT_TYPE = "content-type";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="804.5" y="105.4292">const ATTRIB_NAME = "name";</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="804.5" y="118.2339">const ATTRIB_FILENAME = "filename";</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="799.5" x2="1106.5" y1="124.8281" y2="124.8281"/><ellipse cx="809.5" cy="136.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="818.5" y="139.0386">__toString()</text><ellipse cx="809.5" cy="149.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="818.5" y="151.8433">add(NodeInterface $node)</text><ellipse cx="809.5" cy="162.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="818.5" y="164.6479">getName()</text><ellipse cx="809.5" cy="175.1445" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="818.5" y="177.4526">setContentDisposition(string $disposition)</text><ellipse cx="809.5" cy="187.9492" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="818.5" y="190.2573">getNested()</text><!--class Envelope--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="252.875" id="Envelope" style="stroke: #A80036; stroke-width: 1.5;" width="385" x="931.5" y="487"/><ellipse cx="1091.25" cy="503" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1093.5938,498.6719 L1093.7656,498.75 C1093.9844,498.4375 1094.1875,498.3438 1094.4844,498.3438 C1094.7813,498.3438 1095.0625,498.4844 1095.2188,498.75 C1095.3125,498.9063 1095.3281,499.0313 1095.3281,499.4688 L1095.3281,500.8906 C1095.3281,501.3125 1095.2969,501.5 1095.1875,501.6563 C1095.0156,501.875 1094.75,502.0156 1094.4844,502.0156 C1094.2656,502.0156 1094.0313,501.9063 1093.8906,501.7656 C1093.75,501.6406 1093.7188,501.5156 1093.6563,501.1094 C1093.5625,500.7031 1093.3906,500.4844 1092.9063,500.2031 C1092.4375,499.9531 1091.8281,499.7969 1091.25,499.7969 C1089.5156,499.7969 1088.2656,501.1094 1088.2656,502.8906 L1088.2656,503.9844 C1088.2656,505.6875 1089.5625,506.7813 1091.6094,506.7813 C1092.375,506.7813 1093.0625,506.6563 1093.4844,506.3906 C1093.6719,506.2969 1093.6719,506.2969 1094.125,505.8125 C1094.3125,505.625 1094.5156,505.5469 1094.7344,505.5469 C1095.2031,505.5469 1095.5938,505.9375 1095.5938,506.3906 C1095.5938,506.7813 1095.2656,507.2344 1094.6875,507.6406 C1093.9375,508.1875 1092.7813,508.4844 1091.5625,508.4844 C1088.6719,508.4844 1086.5625,506.5938 1086.5625,504.0156 L1086.5625,502.8906 C1086.5625,500.1719 1088.5625,498.0938 1091.1875,498.0938 C1092.0625,498.0938 1092.6563,498.2344 1093.5938,498.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="1111.75" y="507.1543">Envelope</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="932.5" x2="1315.5" y1="519" y2="519"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="937.5" y="533.2104">const TYPE_FORM_DATA = 'multipart/form-data';</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="937.5" y="546.0151">const TYPE_MIXED = 'multipart/mixed';</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="937.5" y="558.8198">const ATTRIB_BOUNDARY = "boundary";</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="932.5" x2="1315.5" y1="565.4141" y2="565.4141"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="312" x="951.5" y="579.6245">__construct(string $name, string $type='', $items = [])</text><ellipse cx="942.5" cy="590.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="951.5" y="592.4292">__toString()</text><ellipse cx="942.5" cy="602.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="951.5" y="605.2339">add(NodeInterface $node)</text><ellipse cx="942.5" cy="615.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="951.5" y="618.0386">getName()</text><ellipse cx="942.5" cy="628.5352" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="951.5" y="630.8433">setContentDisposition(string $disposition)</text><ellipse cx="942.5" cy="641.3398" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="66" x="951.5" y="643.6479">getNested()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="955.5" y="656.4526"/><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="663.9492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="951.5" y="669.2573">exists($name)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="676.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="951.5" y="682.062">getPrefix()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="689.5586"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="951.5" y="694.8667">getItems()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="702.3633"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="951.5" y="707.6714">getItemsAsString()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="715.168"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="951.5" y="720.4761">getItemString($item)</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="939.5" y="727.9727"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="359" x="951.5" y="733.2808">fixNodeContentDisposition(NodeInterface $node, string $name)</text><!--class FormBody--><rect fill="#FEFECE" filter="url(#fuz87dgqmn0qv)" height="137.6328" id="FormBody" style="stroke: #A80036; stroke-width: 1.5;" width="549" x="1079.5" y="266"/><ellipse cx="1319.25" cy="282" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1321.5938,277.6719 L1321.7656,277.75 C1321.9844,277.4375 1322.1875,277.3438 1322.4844,277.3438 C1322.7813,277.3438 1323.0625,277.4844 1323.2188,277.75 C1323.3125,277.9063 1323.3281,278.0313 1323.3281,278.4688 L1323.3281,279.8906 C1323.3281,280.3125 1323.2969,280.5 1323.1875,280.6563 C1323.0156,280.875 1322.75,281.0156 1322.4844,281.0156 C1322.2656,281.0156 1322.0313,280.9063 1321.8906,280.7656 C1321.75,280.6406 1321.7188,280.5156 1321.6563,280.1094 C1321.5625,279.7031 1321.3906,279.4844 1320.9063,279.2031 C1320.4375,278.9531 1319.8281,278.7969 1319.25,278.7969 C1317.5156,278.7969 1316.2656,280.1094 1316.2656,281.8906 L1316.2656,282.9844 C1316.2656,284.6875 1317.5625,285.7813 1319.6094,285.7813 C1320.375,285.7813 1321.0625,285.6563 1321.4844,285.3906 C1321.6719,285.2969 1321.6719,285.2969 1322.125,284.8125 C1322.3125,284.625 1322.5156,284.5469 1322.7344,284.5469 C1323.2031,284.5469 1323.5938,284.9375 1323.5938,285.3906 C1323.5938,285.7813 1323.2656,286.2344 1322.6875,286.6406 C1321.9375,287.1875 1320.7813,287.4844 1319.5625,287.4844 C1316.6719,287.4844 1314.5625,285.5938 1314.5625,283.0156 L1314.5625,281.8906 C1314.5625,279.1719 1316.5625,277.0938 1319.1875,277.0938 C1320.0625,277.0938 1320.6563,277.2344 1321.5938,277.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="1339.75" y="286.1543">FormBody</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1080.5" x2="1627.5" y1="298" y2="298"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1087.5" y="306.9023"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="40" x="1099.5" y="312.2104">$state;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="1099.5" y="325.0151">const HTTP_METHOD = "POST";</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1080.5" x2="1627.5" y1="331.6094" y2="331.6094"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="195" x="1099.5" y="345.8198">__construct(Envelope $initialState)</text><ellipse cx="1090.5" cy="356.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="523" x="1099.5" y="358.6245">addAttachment(string $name, StreamInterface $value, string $mimeType, string $fileName)</text><ellipse cx="1090.5" cy="369.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="244" x="1099.5" y="371.4292">addFormInput(string $name, string $value)</text><ellipse cx="1090.5" cy="381.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="1099.5" y="384.2339">__toString()</text><ellipse cx="1090.5" cy="394.7305" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="1099.5" y="397.0386">submit(RequestInterface $request)</text><!--link NodeInterface to Envelope--><path d="M990.835,216.12 C1017.75,296.228 1053.92,403.895 1081.77,486.8 " fill="none" id="NodeInterface-Envelope" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="984.197,218.343,984.464,197.155,997.468,213.884,984.197,218.343" style="stroke: #A80036; stroke-width: 1.0;"/><!--link NodeInterface to AbstractNode--><path d="M863.213,213.002 C850.224,228.843 837.116,244.829 824.874,259.76 " fill="none" id="NodeInterface-AbstractNode" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="858.032,208.28,876.126,197.253,868.858,217.157,858.032,208.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AbstractNode to Envelope--><path d="M896.7,398.334 C918.951,410.93 941.214,424.968 961,440 C975.928,451.341 990.698,464.101 1004.896,477.415 " fill="none" id="AbstractNode-Envelope" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#FFFFFF" points="1014.63,486.711,1013.0541,479.6742,1005.9524,478.4225,1007.5284,485.4593,1014.63,486.711" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AbstractNode to Attachment--><path d="M638.579,421.416 C608.115,442.163 574.907,464.779 542.345,486.954 " fill="none" id="AbstractNode-Attachment" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="634.729,415.569,655.199,410.097,642.609,427.141,634.729,415.569" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Attachment to StreamInterface--><path d="M622.406,740.067 C646.958,749.094 671.731,757.273 696,764 C861.133,809.7725 1062.26,825.4599 1171.67,830.7928 " fill="none" id="Attachment-StreamInterface" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1184.87,831.4075,1179.061,827.1348,1172.8828,830.8536,1178.6918,835.1263,1184.87,831.4075" style="stroke: #A80036; stroke-width: 1.0;"/><!--link AbstractNode to FormInput--><path d="M768.014,430.37 C768.832,439.389 769.816,448.381 771,457 C775.965,493.138 784.849,533.351 792.291,563.829 " fill="none" id="AbstractNode-FormInput" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="761.008,430.57,766.433,410.087,774.966,429.483,761.008,430.57" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FormBody to FormInput--><path d="M1082.8,404.093 C1024.35,425.446 964.896,452.692 914,487 C887.957,504.555 864.357,529.866 845.83,553.165 " fill="none" id="FormBody-FormInput" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="837.684,563.694,844.5194,561.3966,845.0277,554.2035,838.1923,556.5008,837.684,563.694" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="992" y="453.0669">internal</text><!--link FormBody to Attachment--><path d="M1079.41,390.669 C960.59,416.466 820.505,449.771 696,487 C694.264,487.519 692.524,488.042 690.781,488.57 " fill="none" id="FormBody-Attachment" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="678.336,492.386,685.2449,494.4518,689.809,488.8689,682.9002,486.8031,678.336,492.386" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="858" y="453.0669">internal</text><!--link FormBody to stream_for--><path d="M1402.86,404.075 C1410.38,415.796 1417.72,428.055 1424,440 C1488.63,562.989 1542.4,719.15 1566.06,792.25 " fill="none" id="FormBody-stream_for" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#A80036" points="1570.12,804.9059,1572.0963,797.9709,1566.4548,793.4793,1564.4785,800.4144,1570.12,804.9059" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1557" y="618.0669">internal</text><!--link FormBody to Envelope--><path d="M1297.15,404.348 C1278.91,426.275 1258.02,451.385 1237.21,476.401 " fill="none" id="FormBody-Envelope" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1228.62,486.728,1235.5331,484.6765,1236.2983,477.5061,1229.3852,479.5576,1228.62,486.728" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FormBody to StreamInterface--><path d="M1366.8,404.239 C1379.88,492.322 1391.06,648.028 1334,764 C1328.01,776.182 1318.8,787.053 1308.68,796.3739 " fill="none" id="FormBody-StreamInterface" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1298.79,804.8282,1305.9502,803.9731,1307.9148,797.0347,1300.7546,797.8899,1298.79,804.8282" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FormBody to RequestInterface--><path d="M1385.01,404.108 C1389.35,415.877 1393.26,428.143 1396,440 C1425.03,565.422 1426.52,718.808 1425.27,791.474 " fill="none" id="FormBody-RequestInterface" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="1424.99,804.8986,1429.1144,798.9834,1425.2405,792.9012,1421.1161,798.8164,1424.99,804.8986" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
interface NodeInterface {
    const DISPOSITION_FORMDATA = "form-data";
    const DISPOSITION_ATTACHMENT = "attachment";
    const HEADER_DISPOSITION = "content-disposition";
    const HEADER_CONTENT_TYPE = "content-type";
    const ATTRIB_NAME = "name";
    const ATTRIB_FILENAME = "filename";

    +__toString()
    +add(NodeInterface $node)
    +getName()
    +setContentDisposition(string $disposition)
    +getNested()
}

together {
    interface StreamInterface {
        ==PSR-7==
    }
    interface RequestInterface {
    ==PSR-7==
    }

    class stream_for {
        ==Guzzle==
    }
}

class Envelope {
    const TYPE_FORM_DATA = 'multipart/form-data';
    const TYPE_MIXED = 'multipart/mixed';
    const ATTRIB_BOUNDARY = "boundary";

    __construct(string $name, string $type='', $items = [])
    +__toString()
    +add(NodeInterface $node)
    +getName()
    +setContentDisposition(string $disposition)
    +getNested()

    -exists($name)
    -getPrefix()
    -getItems()
    -getItemsAsString()
    -getItemString($item)
    -fixNodeContentDisposition(NodeInterface $node, string $name)
}
NodeInterface <|- - Envelope

together {
    abstract class AbstractNode {
        #$name;
        #$contentDisposition = '';
        +__toString()
        +add(NodeInterface $node)
        +getName()
        +setContentDisposition(string $disposition)
        +getNested()
        -getContentDisposition()
    }
    NodeInterface <|- - AbstractNode
    AbstractNode ..o Envelope

    class Attachment {
        -$filename = '';
        -$stream;
        -$mime = '';
        -$disposition;

        const DEFAULT_MIME = "application/octet-stream";
        const BINARY_ENCODING = "content-transfer-encoding: binary\\n";

        __construct(string $filename, string $name, StreamInterface $data, string $mime='', string $disposition='')
        +__toString()
        +getNested()
        -headerName()
        -getMime()
        -isBinaryByMime(string $mimeType)
        -contentEncoding()
        -getContents()
        -ifBlank($value, $default)
    }
    AbstractNode <|- - Attachment
    Attachment - -o StreamInterface

    class FormInput {
        -$value
        __construct($name, $value)
        +__toString()
        +getNested()
    }
    AbstractNode <|- - FormInput
}

class FormBody {
    -$state;
    const HTTP_METHOD = "POST";

    __construct(Envelope $initialState)
    +addAttachment(string $name, StreamInterface $value, string $mimeType, string $fileName)
    +addFormInput(string $name, string $value)
    +__toString()
    +submit(RequestInterface $request)
}
FormBody ..* FormInput : internal
FormBody ..* Attachment : internal
FormBody ..* stream_for : internal
FormBody - -o Envelope
FormBody - -o StreamInterface
FormBody - -o RequestInterface
@enduml

PlantUML version 1.2018.01(Sun Jan 28 18:08:22 UTC 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.7.0_25-b15
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>